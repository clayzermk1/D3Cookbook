<!DOCTYPE HTML>
<html lang="en_US">

  <head>
    <title>D3Cookbook Demo Gallery</title>
    <!-- Styles -->
    <link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="lib/font-awesome/css/font-awesome.css" type="text/css" />
    <style>
      body {
        margin: 20px;
      }
      .recipe svg {
        border: 1px solid gold;
      }
    </style>
  </head>

  <body>
    <div class="recipe"></div>

    <!-- JavaScript, placed at the end of the document so the pages load faster. -->
    <!-- jQuery 1.8.2 breaks support for events on svg selectors, use 1.8.1 instead -->
    <script type="text/javascript" src="lib/jquery/jquery-1.8.1.min.js"></script>
    <script type="text/javascript" src="lib/lodash/lodash.min.js"></script>
    <script type="text/javascript" src="lib/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="lib/d3/d3.v3.js"></script>
    <script type="text/javascript" src="../dist/D3Cookbook.js"></script>
    <script type="text/javascript">
      var recipe;
      var initData, newData;
      $(document).on('ready', function() {
        // Create our recipe.
        var options = {
          "recipe": "line",
          "selector": ".recipe",
          "xKey": "date",
          "yKey": "close",
//          "xKey": "sepalWidth",
//          "yKey": "sepalLength",
//          "rKey": "petalLength",
//          "seriesKey": function(d) { return d3.time.day(d.date); },
//          "seriesKey": "species",
          "xFormatter": d3.time.format("%d-%b-%y").parse,
//          "xFormatter": function(d) {
//            return new Date(2001,
//              d.toString().substring(0, 2) - 1,
//              d.toString().substring(2, 4),
//              d.toString().substring(4, 6),
//              d.toString().substring(6, 8));
//          },
          "xScale": d3.time.scale,
//          "rFormatter": function(d) { return +d; },
          "xAxisLabel": "X Axis",
          "yAxisLabel": "Y Axis",
//          "rAxisLabel": "Point Radius"
          "xAxisFormatter": d3.time.format("%x")
        };
//        d3.csv("./data/flights-small.txt", function(error, json) {
        d3.json('./data/stocks.json', function(error, json) {
          initData = json.slice(0, 19);
          newData = json.slice(0, 39);
          recipe = new Recipe[options.recipe](initData, options);
        });
      });
    </script>
  </body>

</html>
